<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>THREE of Animation</title>
    <style>
      #canvas-frame {
        width: 100%;
        height: 100%;
        border: none;
      }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/110/three.min.js"></script>
  </head>
  <body>
    <div id="canvas-frame"></div>
  </body>
  <script>
    var camera, scene, renderer
    var geometry, material, mesh

    /**
     * @description 初始化渲染场景
     */
    function initRenderer() {
      renderer = new THREE.WebGLRenderer({ antialias: true })
      renderer.setSize(window.innerWidth, window.innerHeight)
      document.body.appendChild(renderer.domElement)
    }
    /**
     * @description 初始化相机
     */
    function initCamera() {
      camera = new THREE.PerspectiveCamera(
        70,
        window.innerWidth / window.innerHeight,
        0.01,
        10
      )
      camera.position.x = 0
      camera.position.y = 0
      camera.position.z = 1
      camera.up.x = 0
      camera.up.y = 1
      camera.up.z = 0
      camera.lookAt(0, 0, 0)
    }
    /**
     * @description 初始化场景
     */
    function initScene() {
      scene = new THREE.Scene()
    }
    /**
     * @description 初始化添加物体
     */
    function initObject() {
      geometry = new THREE.BoxGeometry(0.2, 0.2, 0.2)
      material = new THREE.MeshNormalMaterial()

      mesh = new THREE.Mesh(geometry, material)
      scene.add(mesh)
    }
    /**
     * @description 渲染
     */
    function render() {
      animate()
    }
    function init() {
      initRenderer()
      initCamera()
      initScene()
      initObject()
      render()
    }

    function animate() {
      //移动物体x、y
      // mesh.rotation.x += 0.01;
      // mesh.rotation.y += 0.02;
      //移动相机x、y、z
      camera.position.x += 0.01
      camera.position.y += 0.01
      camera.position.z += 0.01
      renderer.render(scene, camera)
      requestAnimationFrame(animate)
    }

    init()
  </script>
</html>
